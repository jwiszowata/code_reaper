{% extends 'code_reaper/base.html' %}

{% load static %}

{% block css %}
<link href="{% static 'code_reaper/ranking.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="ranks">
  <div class="ranking_heading code">Å»niwiarze kodu</div>
  {% for user in code_ranking %}
    <div>
      <div class="rank_row username"><span class="rank">{{user.rank}}.</span>{{user.username}}</div>
      <!-- <div class="rank_row username">{{user.username}}</div> -->
      <div class="rank_row">
        <div class="progress">
          <div class="progress-bar code_progress" role="progressbar" style="width: {{user.points}}%;" aria-valuenow="{{user.points}}" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
      </div>
      <div class="rank_row">{{user.level}}</div>
    </div>
  {% endfor %}
</div>
<div class="ranks">
  {% for game in games_ranking %}
    {% if game.users %}
      <div class="ranking_heading game">Gra: {{game.nr}}</div>
      {% for user in game.users %}
        <div>
          <div class="rank_row">{{user.rank}}.</div>
          <div class="rank_row username">{{user.username}}</div>
          <div class="rank_row">
            <div class="progress">
              <div class="progress-bar game_progress" role="progressbar" style="width: {{user.result}}%;" aria-valuenow="{{user.points}}" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
          </div>
          <div class="rank_row">{{user.result}}</div>
        </div>
      {% endfor %}
    {% endif %}
  {% endfor %}
</div>

{% endblock %}

{% block script %}
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
{% endblock %}