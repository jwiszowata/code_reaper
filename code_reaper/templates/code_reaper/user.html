{% extends 'code_reaper/base.html' %}

{% load static %}

{% block css %}
<link type="text/css" rel="stylesheet" href="{% static 'code_reaper/user.css' %}" />
<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">
{% endblock %}

{% block content %}

		<div id="user" class="container">
			<div class="row">
					<div class="row">
						<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" style="border-radius: 16px;">
							<div class="well profile col-lg-12 col-md-12 col-sm-12 col-xs-12">
								<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
									<h5><strong id="user-name">{{username}}</strong></h5>
									<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 divider"></div>
									<div class="left-column">
										<div class="done-tasks">Obecnie masz wykonane <span id="all_tasks">{{tasks.all}}</span> <span id="task_word">zadania</span>!</div>
										<div class="legend">
											<div class="legend-cell">
												<div class="col best"></div>Najlepsze rozwiązanie
											</div>
											<div class="legend-cell">
												<div class="col waiting"></div>Zadania oczekujące na ocenę
											</div>
											<div class="legend-cell">
												<div class="col positive"></div>Zadania ocenione pozytywnie (poza Najlepsze rozwiązanie)
											</div>
											<div class="legend-cell">
												<div class="col negative"></div>Zadania ocenione negatywnie
											</div>
										</div>
									</div>
									<div class="pie_chart">
										<div id="slice11" class="central_hold">
										    <div class="pie best" title="Najlepsze rozwiązanie" data-value="{{tasks.best1}}"></div>
										</div>
										<div id="slice12" class="central_hold">
										    <div class="pie best" title="Najlepsze rozwiązanie" data-value="{{tasks.best2}}"></div>
										</div>
										<div id="slice21" class="central_hold">
										    <div class="pie positive" title="Zadania ocenione pozytywnie (poza Najlepsze rozwiązanie)" data-value="{{tasks.positive1}}"></div>
										</div>
										<div id="slice22" class="central_hold">
										    <div class="pie positive" title="Zadania ocenione pozytywnie (poza Najlepsze rozwiązanie)" data-value="{{tasks.positive2}}"></div>
										</div>
										<div id="slice31" class="central_hold">
										    <div class="pie negative" title="Zadania ocenione negatywnie" data-value="{{tasks.negative1}}"></div>
										</div>
										<div id="slice32" class="central_hold">
										    <div class="pie negative" title="Zadania ocenione negatywnie" data-value="{{tasks.negative2}}"></div>
										</div>
										<div id="slice41" class="central_hold">
										    <div class="pie waiting" title="Zadania oczekujące na ocenę" data-value="{{tasks.waiting1}}"></div>
										</div>
										<div id="slice42" class="central_hold">
										    <div class="pie waiting" title="Zadania oczekujące na ocenę" data-value="{{tasks.waiting2}}"></div>
										</div>
									</div>
									<div class="ranks">
										<div class="row">
											<div class="line rank">
												<div class="number">{% if reaper %}{{reaper}}{% else %}?{% endif %}</div>
												<div>Ranking Żniwiarzy</div>
											</div>
											<div class="line rank">
												<div class="number">{{statistics.points}}</div>
												<div>Punkty</div>
											</div>
											<div class="line rank">
												<div class="number">{{statistics.level}}</div>
												<div>Level</div>
											</div>
										</div>
										<div class="row">
											<div class="line rank">
												<div class="number">{% if wheater %}{{wheater}}{% else %}?{% endif %}</div>
												<div>Ranking Kłosów</div>
											</div>
											<div class="line rank">
												<div class="number">{{statistics.wheat}}</div>
												<div>Kłosy</div>
											</div>
											<div class="line rank">
												<div class="game number">?</div>
												<div>Ranking</br>
													<select name="game">
														{% for g in games %}
													  <option value="{{g.rank}}">Gra {{g.nr}}</option>
														{% endfor %}
													</select>
												</div>
											</div>
										</div>
										<div class="row">
											<div class="line rank">
												<div class="number">{{statistics.package_pos}}</div>
												<div data-container="body" data-toggle="popover" data-placement="bottom" data-content="Zadanie są zgrupowane w 3-elementowe pakiety. Jeżeli Twoje odpowiedzi są zgodne z oczekiwaniami, pakiet klasyfikowany jest jako poprawny.">Pakiety poprawne</div>
											</div>
											<div class="line rank">
												<div class="number">{{statistics.package_neg}}</div>
												<div data-container="body" data-toggle="popover" data-placement="bottom" data-content="Zadanie są zgrupowane w 3-elementowe pakiety. Jeżeli Twoje odpowiedzi są niezgodne z oczekiwaniami, pakiet klasyfikowany jest jako błędny.">Pakiety</br>błędne</div>
											</div>
											<div class="line rank">
												<div class="number">{{statistics.factor}}</div>
												<div data-container="body" data-toggle="popover" data-placement="bottom" data-content="Każdy błędny papkiet powoduje mnożenie Twojego współczynnika przez 0.9, a poprawny przez 1.1. Zdobyte przez Ciebie punkty i kłosy są mnożone przez ten współczynnik.">Współczynnik</div>
											</div>
										</div>
									</div>
									</div>
								</div>
							</div>
						</div>
					</div>
			</div>	
		</div>

{% endblock %}

{% block script %}
		<!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="{% static 'code_reaper/user.js' %}"></script>
{% endblock %}